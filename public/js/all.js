"use strict";var ChungTool=ChungTool||{},simpleShow=simpleShow||{},simpleHide=simpleHide||{};function init_base(){{const t="android"==navigator.userAgent.toLowerCase().match(/android/i),e=document.querySelector("meta[name=viewport]");if(t){const t=`target-densitydpi=${375/screen.width*window.devicePixelRatio*160}, width=375, user-scalable=no`;e.setAttribute("content",t)}else e.setAttribute("content","width=375 user-scalable=0")}FastClick.attach(document.body)}function init_moblie_content(){$(".moreBlock").click((function(){$(this).closest(".content").toggleClass("m-showfullContent")}))}function initPagesView(){setInterval((function(){const t=$(window).scrollTop();let e;$(".menuPage").each((n,o)=>{const a=$(o).offset().top+$(o).height();if(e=n,a>t+200)return!1}),$("#menu .jBtn").eq(e).addClass("active").siblings("li").removeClass("active")}),100)}function init_header(){$("#header .menuBtn,#header .clozBtn,#header li").click(()=>{$("#header #menu").toggleClass("active")}),$("#header .jBtn").click((function(){e($(this).attr("data-menu"))}));const t=ChungTool.getUrlParameter("page");function e(t){ChungTool.pageScrollAni($(".menuPage-"+t).offset().top-50)}t&&e(t)}!function(){function t(){return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/)}function e(t){return void 0===t}function n(){var t=document.getElementById("share-a-tag");return null===t&&((t=document.createElement("a")).style="display: none;",t.id="share-a-tag",t.target="_blank",document.getElementsByTagName("body")[0].appendChild(t)),t}function o(t){t.preventDefault(),t.stopPropagation()}ChungTool.openGoogleApp=function(e){var o=n();t()?o.href="comgooglemaps://?q="+encodeURIComponent(e):o.href="https://maps.google.com/?q="+encodeURIComponent(e),o.click()},ChungTool.checkIdle=function(t,e,n){idleTimer=null,idleState=!1,idleWait=t,$("*").bind("touchend touchmove touchstart",(function(){clearTimeout(idleTimer),1==idleState&&n(),idleState=!1,idleTimer=setTimeout((function(){e(),idleState=!0}),idleWait)})),$("body").trigger("touchend")},ChungTool.scrollReachTop=function(t){return 0==t.scrollTop()},ChungTool.scrollReachEnd=function(t){return t.scrollTop()+t.innerHeight()>=t[0].scrollHeight},ChungTool.isIe=function(){return!(!document.documentMode&&!/Edge/.test(navigator.userAgent))},ChungTool.addWheelEvent=function(t,e,n){/Firefox/i.test(navigator.userAgent);var o=!0,a=null;t.mousewheel((function(t){a&&(clearTimeout(a),a=null),a=setTimeout((function(){a=null,o=!0}),100),o&&(o=!1,t.deltaY>0?e():n())}))},ChungTool.addSwipeUpDownEvent=function(t,e,n){var o,a,i=t;i.get(0).addEventListener("touchstart",(function(t){if(1!=t.targetTouches.length)return!1;o=a=t.targetTouches[0].pageY}),!1),i.get(0).addEventListener("touchmove",(function(t){if(t.preventDefault(),1!=t.targetTouches.length)return!1;a=t.targetTouches[0].pageY,i.css("margin-top",a-o)}),!1),i.get(0).addEventListener("touchend",(function(t){i.css("margin-top",0),a-o>100?e():a-o<-100&&n()}))},ChungTool.windoePosTop=function(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},ChungTool.lockScroll=function(){var t=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop],e=jQuery("body");e.data("scroll-position",t),e.data("previous-overflow",e.css("overflow")),e.css("overflow","hidden"),window.scrollTo(t[0],t[1]),$(document.body).on("touchmove",o)},ChungTool.unLockScroll=function(){var t=jQuery("body"),n=t.data("scroll-position");e(n)||(t.css("overflow",t.data("previous-overflow")),window.scrollTo(n[0],n[1]),$(document.body).off("touchmove",o))},ChungTool.isPhone=function(){return new RegExp("Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent)},ChungTool.pageScrollAni=function(t){(window.opera?"CSS1Compat"==document.compatMode?$("html"):$("body"):$("html,body")).animate({scrollTop:t},800)},ChungTool.shareToLine=function(t){var e=n();e.href="http://line.naver.jp/R/msg/text/?"+encodeURIComponent(t),e.click()},ChungTool.getAtagElement=n,ChungTool.int=function(t){return parseInt(t,10)},ChungTool.replayCssAni=function(t,e){t.removeClass(e),t.offset().width=t.offset().width,t.addClass(e)},ChungTool.getDivBgImage=function(t){return t.css("background-image").replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")},ChungTool.addYouTube=function(t,e){t.empty().append('<iframe allowfullscreen="" frameborder="0" height="100%" width="100%" src="http://www.youtube.com/embed/'+e+'?rel=0&autoplay=1"></iframe>')},ChungTool.maxlengthInpout=function(t,e){t.on("keyup",(function(){var t=e,n=$(this).val();if(n.length>t){var o=n.substr(0,t);$(this).val(o)}}))},ChungTool.txtByteLength=function(t){return null==t?0:("string"!=typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)},ChungTool.removeClassWithFilter=function(t,e){t.each((function(t,n){var o=n.className.split(" ").filter((function(t){return 0!==t.lastIndexOf(e,0)}));n.className=$.trim(o.join(" "))}))},ChungTool.returnClassNameWithFilter=function(t,e){var n;return t.each((function(t,o){n=o.className.split(" ").filter((function(t){return 0==t.lastIndexOf(e,0)}))})),$.each(n,(function(t,o){n[t]=o.replace(e,"")})),n},ChungTool.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ChungTool.addSwipeEvent=function(t,e,n){var o,a;t.get(0).addEventListener("touchstart",(function(t){if(1!=t.targetTouches.length)return!1;o=t.targetTouches[0].pageX}),!1),t.get(0).addEventListener("touchmove",(function(t){if(t.preventDefault(),1!=t.targetTouches.length)return!1;a=t.targetTouches[0].pageX}),!1),t.get(0).addEventListener("touchend",(function(t){a-o>60?n():a-o<-60&&e()}))},ChungTool.initLimitText=function(){$(".limitTxt").each((function(){var t=$(this),n=parseInt(t.attr("data-limitTxtNum"),10),o="true"==t.attr("data-showBtn");if(!e(n)){var a=t.text();if((a=(a=a.replace(/ {2,}/g," ")).replace(/\n\s*\n/g,"\n")).length>n){var i='<span class="hide">'+a.substr(n,a.length)+'</span><a href="#" class="seeMoreContentBtn">more</a>';a=a.substr(0,n)+'<i class="dot"> ...</i>',o&&(a+=i),t.html(a)}}})),$(".seeMoreContentBtn").on("click",(function(t){t.preventDefault(),$(this).addClass("hide").siblings(".hide").removeClass("hide").siblings(".dot").addClass("hide")}))},ChungTool.getUrlParameter=function(t){var e,n,o=decodeURIComponent(window.location.search.substring(1)).split("&");for(n=0;n<o.length;n++)if((e=o[n].split("="))[0]===t)return void 0===e[1]||e[1]},ChungTool.isOnline=function(){return"file:"!=window.location.protocol},ChungTool.isNull=e,ChungTool.isIOS=t,simpleShow=function(t,n){e(n)&&(n=.3),t.each((function(){var t=$(this);t.removeClass("hide"),TweenMax.killTweensOf(t),(new TimelineMax).set(t,{autoAlpha:0}).to(t,n,{autoAlpha:1})}))},simpleHide=function(t,n){e(n)&&(n=.3),t.each((function(){var t=$(this),e=new TimelineMax;TweenMax.killTweensOf(t),e.to(t,n,{autoAlpha:0}).call((function(){t.addClass("hide")}))}))}}(),init_base(),$(document).ready(()=>{init_header(),init_moblie_content(),initPagesView(),init_igWall(),init_motus()});let $grid,loading=!1,pageSize=20,page=0,$gridLoading=$(".grid-loading");function init_igWall(){initPicWall(),0!=$(".grid-loading").length&&nextPage()}function initPicWall(){$grid=$(".grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0}),$grid.imagesLoaded().progress((function(){$grid.masonry("layout")})),$(window).on("scroll",(function(t){null!=$gridLoading&&$gridLoading.isInViewPort(-50)&&nextPage()}))}function nextPage(){loading||(page++,toggleLoading(!0),$.get(`https://event.catchad.com.tw/v2/api/event/toyota_life100/hashtag/entries?page_size=${pageSize}&page=${page}`,(function(t,e){if(0!=t.data.length){for(var n in t.data){var o=t.data[n],a=$("#grid-item-tpl").clone();a.attr("id","grid-item-"+o.id),a.css("visibility","hidden"),a.find("a").attr("href",o.permalink),a.find("img").attr("src",o.media_url),a.find(".like_count").text(o.like_count),a.find(".comments_count").text(o.comments_count),a.find("p").text(o.caption.substr(0,50)+"..."),$grid.append(a).masonry("appended",a)}$grid.imagesLoaded().progress((function(t,e){$(e.img).parents(".grid-item").css("visibility","visible"),$grid.masonry("layout")})).always((function(t){toggleLoading(!1)}))}else noMoreData()})))}function toggleLoading(t){loading=t,$gridLoading.css("visibility",t?"visible":"hidden")}function noMoreData(){loading=!1,$gridLoading.remove(),$gridLoading=null}function init_motus(){Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-1-1")[0],keyframes:[{translateY:-50},{translateY:200}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-1-2")[0],keyframes:[{translateY:50},{translateY:-50}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-2-1")[0],keyframes:[{translateY:0},{translateY:-250}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-2-2")[0],keyframes:[{translateY:0},{translateY:-150}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-2-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-3-1")[0],keyframes:[{translateY:250},{translateY:0}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-3-2")[0],keyframes:[{translateY:150},{translateY:0}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-3-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-4-1")[0],keyframes:[{translateY:0},{translateY:-250}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-4-2")[0],keyframes:[{translateY:0},{translateY:-150}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-4-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-5-1")[0],keyframes:[{translateY:0},{translateY:250}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-5-2")[0],keyframes:[{translateY:0},{translateY:150}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-5-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-6-1")[0],keyframes:[{translateY:0},{translateY:-250}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-6-2")[0],keyframes:[{translateY:0},{translateY:-150}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-6-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-7-1")[0],keyframes:[{translateY:0},{translateY:250}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-7-2")[0],keyframes:[{translateY:0},{translateY:150}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-7-3")[0],keyframes:[{translateY:0},{translateY:100}]})),Motus.addAnimation(new Motus.Animation({$el:$("#ani-tag-ig-1")[0],keyframes:[{translateY:0},{translateY:100}]}))}$.fn.isInViewPort=function(t){var e=$(this).offset().top,n=e+$(this).outerHeight(),o=$(window).scrollTop(),a=o+$(window).height();return n>o&&e<a&&n<a-t};
//# sourceMappingURL=all.js.map
